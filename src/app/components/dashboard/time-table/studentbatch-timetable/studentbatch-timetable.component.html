<div class="content">
  <div class="col-sm-12">
    <h4 class="m-3" style="color: #089be1">
      Generate Students Time Tables
    </h4>

    <div class="row">
      <div class="col-4">
        <mat-form-field appearance="outline" class="col-12">
          <mat-label>Select Timetable ID</mat-label>
          <mat-select
            name="timetableID"
            [(ngModel)]="this.timeTableID"
            #timetableID="ngModel"
          >
            <mat-option
              *ngFor="let obj of worksService.works"
              value="{{ obj.timeTableID }}"
              >{{ obj.timeTableID }}</mat-option
            >
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col-5">
        <mat-form-field appearance="outline" class="col-12">
          <mat-label>Select Student Batch</mat-label>
          <mat-select
            name="studentbatch"
            [(ngModel)]="this.studentbatch"
            #lectureName="ngModel"
          >
            <mat-option
              *ngFor="let batch of batchesService.batch"
              value="{{ batch.name }}"
              >{{ batch.name }}</mat-option
            >
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-3">
        <button
          mat-flat-button
          class="col-4"
          (click)="searchTimetable()"
          style="background-color: #5a59f2; margin-top: 15px"
        >
        GENERATE
        </button>
      </div>
      <div>
        <button
          mat-flat-button
          class="mb-3"
          (click)="generatePdf()"
          style="background-color: #5a59f2; margin-top: 15px; margin-left: 30px;"
        >
          EXPORT TO PDF
        </button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="this.disable == 'false'">
  <div id="content" #content>
    <h6 style="color: #089be1">
      {{this.slotsAndSessionService.selectedSlotsAndSession.batchName}}
    </h6>
    <table class="table table-dark">
      <thead style="color: #2e86c1; font-weight: bold">
        <tr>
          <th scope="col">Timetable Type</th>
          <th scope="col" *ngFor="let workingDays of working">
            {{ workingDays }}
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let timeSlots of time_slots">
          <td>{{ timeSlots }}</td>
          <td *ngFor="let session of getSession">
            {{ session.batchName }}<br />
            {{ session.subjectCode }} - {{ session.subjectName }}<br />
            {{ session.tagName }}<br />
            {{ session.lectureName }}<br />
            {{ session.classRoom }}
          </td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
